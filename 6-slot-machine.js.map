{"version":3,"file":"6-slot-machine.js","sources":["../src/js/6-slot-machine.js"],"sourcesContent":["// const startBtn = document.querySelector('.start-btn');\n// const container = document.querySelector('.slot-container');\n// const result = document.querySelector('.result');\n\n// startBtn.addEventListener('click', handleStart);\n\n// function handleStart() {\n//   startBtn.disabled = true;\n//   result.innerHTML = '';\n\n//   const promises = [...container.children].map(() => {\n//     return new Promise((resolve, reject) => {\n//       const random = Math.random();\n\n//       if (random > 0.5) {\n//         resolve('🤑');\n//       } else {\n//         reject('👿');\n//       }\n//     });\n//   });\n\n//   Promise.allSettled(promises).then(data => {\n//     const isWinner =\n//       data.every(item => item.status === 'fulfilled') ||\n//       data.every(item => item.status === 'rejected');\n\n//     data.forEach((item, i) => {\n//       container.children[i].textContent = '';\n\n//       setTimeout(() => {\n//         container.children[i].textContent = item.value || item.reason;\n\n//         if (i === data.length - 1) {\n//           result.innerHTML = isWinner ? 'Winner' : 'Loser';\n//           startBtn.disabled = false;\n//         }\n//       }, 1000 * (i + 1));\n//     });\n//   });\n// }\n\n// const startBtn = document.querySelector('.start-btn');\n// const container = document.querySelector('.slot-container');\n// const result = document.querySelector('.result');\n\n// startBtn.addEventListener('click', handleStart);\n\n// function getRandomSymbol() {\n//   return Math.random() > 0.5 ? '🤑' : '👿';\n// }\n\n// function handleStart() {\n//   startBtn.disabled = true;\n//   result.textContent = '';\n\n//   const symbols = [...container.children].map(getRandomSymbol);\n\n//   const isWinner = symbols.every(s => s === symbols[0]);\n\n//   symbols.forEach((symbol, i) => {\n//     container.children[i].textContent = '';\n\n//     setTimeout(() => {\n//       container.children[i].textContent = symbol;\n\n//       if (i === symbols.length - 1) {\n//         setTimeout(() => {\n//           result.textContent = isWinner ? 'Winner' : 'Loser';\n//           startBtn.disabled = false;\n//         }, 1000);\n//       }\n//     }, 1000 * (i + 1));\n//   });\n// }\n\n// const startBtn = document.querySelector('.start-btn');\n// const container = document.querySelector('.slot-container');\n// const result = document.querySelector('.result');\n\n// const symbols = ['🍒', '🍋', '🍉', '⭐', '🔔', '7️⃣', '🤑'];\n\n// startBtn.addEventListener('click', handleStart);\n\n// function getRandomSymbol() {\n//   return symbols[Math.floor(Math.random() * symbols.length)];\n// }\n\n// function handleStart() {\n//   startBtn.disabled = true;\n//   result.textContent = '';\n\n//   const finalSymbols = [...container.children].map(getRandomSymbol);\n\n//   [...container.children].forEach((slot, i) => {\n//     let counter = 0;\n//     const spins = 10 + i * 5; // чим далі барабан, тим довше крутиться\n\n//     const interval = setInterval(() => {\n//       slot.textContent = getRandomSymbol();\n//       counter++;\n\n//       if (counter >= spins) {\n//         clearInterval(interval);\n//         slot.textContent = finalSymbols[i];\n\n//         if (i === container.children.length - 1) {\n//           const isWinner = finalSymbols.every(s => s === finalSymbols[0]);\n\n//           setTimeout(() => {\n//             result.textContent = isWinner ? '🎉 Winner!' : '💀 Loser';\n//             startBtn.disabled = false;\n//           }, 500);\n//         }\n//       }\n//     }, 100);\n//   });\n// }\n\nconst startBtn = document.querySelector('.start-btn');\nconst container = document.querySelector('.slot-container');\nconst result = document.querySelector('.result');\n\nconst symbols = ['🍒', '🍋', '🍉', '⭐', '🔔', '7️⃣', '🤑'];\n\nconst SPIN_TICK_MS = 100;\nconst BASE_SPINS = 10;\nconst SPINS_STEP = 5;\nconst RESULT_DELAY = 500;\n\nfunction getRandomSymbol() {\n  return symbols[Math.floor(Math.random() * symbols.length)];\n}\n\nstartBtn.addEventListener('click', handleStart);\n\nfunction handleStart() {\n  startBtn.disabled = true;\n  result.textContent = '';\n\n  const finalSymbols = [...container.children].map(getRandomSymbol);\n\n  [...container.children].forEach((slot, i) => {\n    let counter = 0;\n    const spins = BASE_SPINS + i * SPINS_STEP;\n\n    const interval = setInterval(() => {\n      slot.textContent = getRandomSymbol();\n      counter++;\n\n      if (counter >= spins) {\n        clearInterval(interval);\n        slot.textContent = finalSymbols[i];\n\n        if (i === container.children.length - 1) {\n          const isWinner = finalSymbols.every(s => s === finalSymbols[0]);\n          setTimeout(() => {\n            result.textContent = isWinner ? '🎉 Winner!' : '💀 Loser';\n            startBtn.disabled = false;\n          }, RESULT_DELAY);\n        }\n      }\n    }, SPIN_TICK_MS);\n  });\n}\n"],"names":["startBtn","container","result","symbols","SPIN_TICK_MS","BASE_SPINS","SPINS_STEP","RESULT_DELAY","getRandomSymbol","handleStart","finalSymbols","slot","i","counter","spins","interval","isWinner","s"],"mappings":"wFAuHA,MAAMA,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,CAAC,KAAM,KAAM,KAAM,IAAK,KAAM,MAAO,IAAI,EAEnDC,EAAe,IACfC,EAAa,GACbC,EAAa,EACbC,EAAe,IAErB,SAASC,GAAkB,CACzB,OAAOL,EAAQ,KAAK,MAAM,KAAK,SAAWA,EAAQ,MAAM,CAAC,CAC3D,CAEAH,EAAS,iBAAiB,QAASS,CAAW,EAE9C,SAASA,GAAc,CACrBT,EAAS,SAAW,GACpBE,EAAO,YAAc,GAErB,MAAMQ,EAAe,CAAC,GAAGT,EAAU,QAAQ,EAAE,IAAIO,CAAe,EAEhE,CAAC,GAAGP,EAAU,QAAQ,EAAE,QAAQ,CAACU,EAAMC,IAAM,CAC3C,IAAIC,EAAU,EACd,MAAMC,EAAQT,EAAaO,EAAIN,EAEzBS,EAAW,YAAY,IAAM,CAIjC,GAHAJ,EAAK,YAAcH,IACnBK,IAEIA,GAAWC,IACb,cAAcC,CAAQ,EACtBJ,EAAK,YAAcD,EAAaE,CAAC,EAE7BA,IAAMX,EAAU,SAAS,OAAS,GAAG,CACvC,MAAMe,EAAWN,EAAa,MAAMO,GAAKA,IAAMP,EAAa,CAAC,CAAC,EAC9D,WAAW,IAAM,CACfR,EAAO,YAAcc,EAAW,aAAe,WAC/ChB,EAAS,SAAW,EACrB,EAAEO,CAAY,CAChB,CAEJ,EAAEH,CAAY,CACnB,CAAG,CACH"}